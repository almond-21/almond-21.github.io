<!Doctype: HTML w/ Processing>

<html>

  <head>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
      <title>pearljitter</title>
      <script type="text/javascript" src="js/processing.js"></script>
  </head>
  
  <body>
    <h1>pearl jitter</h1>
    <p>also pearljit er</p>

    <script type="text/processing"> 


int cnt=10;
Face[][] fc=new Face[cnt][cnt];

void setup(){
  size(800,800);
  stroke(0);
  strokeWeight(1);
  frameRate(3);

}

void draw(){
  background(0);
  
  for(int i=0;i<cnt;i++){
    for(int j=0;j<cnt;j++){
    fc[i][j]=new Face(width/cnt*(i+0.5),width/cnt*(j+0.5),random(4,16),radians(random(-45,45)),random(3,10),radians(random(-25,25)));
    fc[i][j].genface();
    }
  }
}

class Face{
  float x,y;
  float rad;
  float browa;
  float nosel;
  float moutha;
  
  Face(float xpos,float ypos, float r, float b, float n, float m){
  x=xpos;
  y=ypos;
  rad=r;
  browa=b;
  nosel=n;
  moutha=m;
  }
  
  void genface(){
    ellipse(x,y,40+2*rad,42+2*rad); 
    fill(170+10*nosel,250-10*nosel,240-10*nosel);
    
    line(x-rad,y-rad,x-(0.6*rad+rad*cos(browa)),y-rad-rad*tan(browa));
    line(x+rad,y-rad,x+(0.6*rad+rad*cos(browa)),y-rad-rad*tan(browa));
    
    line(x,y-nosel,x+nosel/2,y+0.5*nosel);
    
    ellipse(x-rad,y-rad,rad/2,rad/2);
    ellipse(x+rad,y-rad,rad/2,rad/2);

    
    
    line(x,y+rad,x-rad*cos(moutha),y+rad-rad*tan(moutha));
    line(x,y+rad,x+rad*cos(moutha),y+rad-rad*tan(moutha));
  }
}
  
    </script>
    <canvas id="sketch" style="border: 1px solid black;"></canvas>
    
    
  </body>
  
</html>
